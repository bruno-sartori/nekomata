{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,MAAM,KAAK,CAAC;AACvC,OAAO,EAAE,aAAa,EAAE,KAAK,EAAE,MAAM,mBAAmB,CAAC;AACzD,OAAO,oCAAoC,CAAC;AAC5C,OAAO,kCAAkC,CAAC;AAC1C,OAAO,oCAAoC,CAAC;AAC5C,OAAO,EAAE,aAAa,EAAE,MAAM,yBAAyB,CAAC;AAExD,OAAO,2BAA2B,MAAM,mCAAmC,CAAC;AAC5E,OAAO,eAAe,MAAM,sBAAsB,CAAC;AACnD,OAAO,cAAc,MAAM,qBAAqB,CAAC;AACjD,OAAO,eAAe,MAAM,sBAAsB,CAAC;AAG5C,IAAM,QAAQ,GAAd,MAAM,QAAS,SAAQ,UAAU;IAetC;QACE,KAAK,EAAE,CAAC;QAbF,YAAO,GAAyB,EAAE,CAAC;QACnC,qBAAgB,GAAqB,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;QAGxE,iBAAY,GAAG,KAAK,CAAC;QAGb,kBAAa,GAAG,CAAC,CAAC;QAGlB,aAAQ,GAAG,EAAE,CAAC;QAKpB,IAAI,CAAC,gBAAgB,CAAC,2BAA2B,CAAC,SAAS,EAAE,CAAC,CAAC,CAA8B,EAAE,EAAE;YAC/F,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC,MAAM,CAAC;QACnC,CAAC,CAAkB,CAAC,CAAC;QAErB,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,SAAS,EAAE,GAAG,EAAE;YACpD,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC5B,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC,SAAS,EAAE,CAAC,CAAC,CAAiB,EAAE,EAAE;YACrE,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC;QACzC,CAAC,CAAkB,CAAC,CAAC;QAErB,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,SAAS,EAAE,CAAC,CAAC,CAAkB,EAAE,EAAE;YACvE,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAA;YACtB,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,eAAe,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YACvD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QAC3B,CAAC,CAAkB,CAAC,CAAC;QAErB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,CAAA;IACjC,CAAC;IAEQ,MAAM;QACb,OAAO,IAAI,CAAA;;;;;;;uBAOQ,IAAI,CAAC,OAAO;4BACP,IAAI,CAAC,YAAY;6BAChB,IAAI,CAAC,aAAa;wBACvB,IAAI,CAAC,QAAQ;;;;qCAIA,IAAI,CAAC,OAAO,sBAAsB,IAAI,CAAC,gBAAgB;;;KAGvF,CAAC;IACJ,CAAC;;AAzDe,eAAM,GAAG,aAAa,AAAhB,CAAiB;AAMvC;IADC,KAAK,EAAE;8CACa;AAGb;IADP,KAAK,EAAE;+CACkB;AAGlB;IADP,KAAK,EAAE;0CACc;AAbX,QAAQ;IADpB,aAAa,CAAC,iBAAiB,CAAC;GACpB,QAAQ,CA2DpB","sourcesContent":["import { LitElement, html } from 'lit';\nimport { customElement, state } from 'lit/decorators.js';\nimport './components/editor/editor-sidebar';\nimport './components/editor/editor-video';\nimport './components/editor/editor-toolbar';\nimport { nekomataStyle } from './styles/nekomata.style';\nimport { CurrentlyGrabbed, RangeTimings } from './types';\nimport UpdateCurrentlyGrabbedEvent from './events/update-currently-grabbed';\nimport VideoPauseEvent from './events/video-pause';\nimport VideoSeekEvent from './events/video-seek';\nimport FilesAddedEvent from './events/files-added';\n\n@customElement('nekomata-editor')\nexport class Nekomata extends LitElement {\n  static override styles = nekomataStyle;\n\n  private timings: Array<RangeTimings>  = [];\n  private currentlyGrabbed: CurrentlyGrabbed = { index: 0, type: 'none' };\n\n  @state()\n  videoPlaying = false;\n  \n  @state()\n  private videoSeekTime = 0;\n  \n  @state()\n  private videoSrc = '';\n\n  constructor() {\n    super();\n    \n    this.addEventListener(UpdateCurrentlyGrabbedEvent.eventName, ((e: UpdateCurrentlyGrabbedEvent) => {\n      this.currentlyGrabbed = e.detail;\n    }) as EventListener);\n\n    this.addEventListener(VideoPauseEvent.eventName, () => {\n      this.videoPlaying = false;\n    });\n\n    this.addEventListener(VideoSeekEvent.eventName, ((e: VideoSeekEvent) => {\n      this.videoSeekTime = e.detail.seekTime;\n    }) as EventListener);\n\n    this.addEventListener(FilesAddedEvent.eventName, ((e: FilesAddedEvent) => {\n      console.log('AQUIIII')\n      this.videoSrc = URL.createObjectURL(e.detail.files[0]);\n      this.videoPlaying = true;\n    }) as EventListener);\n\n    console.log(this.videoSeekTime)\n  }\n\n  override render() {\n    return html`\n      <main class=\"nekomata-editor\">\n        <aside class=\"sidebar\">\n          <editor-sidebar></editor-sidebar>\n        </aside>\n        <section class=\"editor\">\n          <editor-video \n            .timings=${this.timings} \n            .videoPlaying=${this.videoPlaying} \n            .videoSeekTime=${this.videoSeekTime} \n            .videoSrc=${this.videoSrc}>\n          </editor-video>\n        </section>\n        <footer id=\"footer\">\n          <editor-toolbar .timings=${this.timings} .currentlyGrabbed=${this.currentlyGrabbed}></editor-toolbar>\n        </footer>\n      </main>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'nekomata-editor': Nekomata;\n  }\n}\n"]}