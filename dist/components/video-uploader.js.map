{"version":3,"file":"video-uploader.js","sourceRoot":"","sources":["../../src/components/video-uploader.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,MAAM,KAAK,CAAC;AACvC,OAAO,EAAE,aAAa,EAAE,MAAM,mBAAmB,CAAC;AAClD,OAAO,EAAE,kBAAkB,EAAE,MAAM,gCAAgC,CAAC;AACpE,OAAO,wBAAwB,MAAM,iCAAiC,CAAC;AAGhE,IAAM,aAAa,GAAnB,MAAM,aAAc,SAAQ,UAAU;IAGlC,MAAM;QACb,OAAO,IAAI,CAAA;;;;;wBAKS,IAAI,CAAC,WAAW;uBACjB,IAAI,CAAC,UAAU;mBACnB,IAAI,CAAC,MAAM;oBACV,IAAI,CAAC,OAAO;;gGAEgE,IAAI,CAAC,YAAY;;;;KAI5G,CAAC;IACJ,CAAC;IAEO,OAAO;QACb,IAAI,CAAC,UAAU,EAAE,cAAc,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,CAAC;IACnD,CAAC;IAEO,WAAW,CAAE,KAAgB;QACnC,MAAM,QAAQ,GAAG,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;QAEnD,IAAI,QAAQ,EAAE,CAAC;YACb,QAAQ,CAAC,WAAW,GAAG,EAAE,CAAC;QAC5B,CAAC;QAED,KAAK,CAAC,eAAe,EAAE,CAAC;QACxB,KAAK,CAAC,cAAc,EAAE,CAAC;IACzB,CAAC;IAEO,UAAU,CAAC,KAAgB;QACjC,KAAK,CAAC,eAAe,EAAE,CAAC;QACxB,KAAK,CAAC,cAAc,EAAE,CAAC;IACzB,CAAC;IAEO,MAAM,CAAC,KAAgB;QAC7B,KAAK,CAAC,eAAe,EAAE,CAAC;QACxB,KAAK,CAAC,cAAc,EAAE,CAAC;QAEvB,MAAM,EAAE,GAAG,KAAK,CAAC,YAAY,CAAC;QAC9B,MAAM,KAAK,GAAG,EAAE,EAAE,KAAK,CAAC;QAExB,IAAI,KAAK,EAAE,CAAC;YACV,MAAM,GAAG,GAAG,GAAG,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YAC1C,IAAI,CAAC,aAAa,CAAC,IAAI,wBAAwB,CAAC,EAAE,GAAG,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QAC3E,CAAC;IACH,CAAC;IAEO,YAAY,CAAC,KAAY;QAC/B,KAAK,CAAC,eAAe,EAAE,CAAC;QACxB,KAAK,CAAC,cAAc,EAAE,CAAC;QAEvB,MAAM,KAAK,GAAI,KAAK,CAAC,MAA2B,CAAC,KAAK,CAAC;QAEvD,IAAI,KAAK,EAAE,CAAC;YACV,MAAM,GAAG,GAAG,GAAG,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YAC1C,IAAI,CAAC,aAAa,CAAC,IAAI,wBAAwB,CAAC,EAAE,GAAG,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QAC3E,CAAC;IACH,CAAC;;AA/De,oBAAM,GAAG,kBAAkB,AAArB,CAAsB;AADjC,aAAa;IADzB,aAAa,CAAC,gBAAgB,CAAC;GACnB,aAAa,CAiEzB","sourcesContent":["import { LitElement, html } from 'lit';\nimport { customElement } from 'lit/decorators.js';\nimport { videoUploaderStyle } from '../styles/video-uploader.style';\nimport UpdatePlayerContextEvent from '../events/update-player-context';\n\n@customElement('video-uploader')\nexport class VideoUploader extends LitElement {\n  static override styles = videoUploaderStyle;\n\n  override render() {\n    return html`\n      <div>\n        <h2 class=\"video-uploader__title text\">Add Video</h2>\n        <div \n          class=\"video-uploader__picker text\" \n          @dragenter=\"${this.onDragEnter}\" \n          @dragover=\"${this.onDragOver}\"\n          @drop=\"${this.onDrop}\" \n          @click=\"${this.onClick}\"\n        >\n          <input type=\"file\" id=\"file\" class=\"video-uploader__file\" accept=\"video/*\" @change=\"${this.onSelectFile}\" hidden>\n          + Upload Video\n        </div>\n      </div>\n    `;\n  }\n\n  private onClick() {\n    this.shadowRoot?.getElementById('file')?.click();\n  }\n  \n  private onDragEnter (event: DragEvent) {\n    const outputEl = document.getElementById('output');\n    \n    if (outputEl) {\n      outputEl.textContent = '';\n    }\n    \n    event.stopPropagation();\n    event.preventDefault();\n  }\n  \n  private onDragOver(event: DragEvent) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  private onDrop(event: DragEvent) {\n    event.stopPropagation();\n    event.preventDefault();\n  \n    const dt = event.dataTransfer;\n    const files = dt?.files;\n\n    if (files) {\n      const src = URL.createObjectURL(files[0]);\n      this.dispatchEvent(new UpdatePlayerContextEvent({ src, playing: true }));\n    }\n  }\n\n  private onSelectFile(event: Event) {\n    event.stopPropagation();\n    event.preventDefault();\n  \n    const files = (event.target as HTMLInputElement).files;\n    \n    if (files) {\n      const src = URL.createObjectURL(files[0]);\n      this.dispatchEvent(new UpdatePlayerContextEvent({ src, playing: true }));\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'video-uploader': VideoUploader;\n  }\n}\n"]}