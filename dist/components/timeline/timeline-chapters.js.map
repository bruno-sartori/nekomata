{"version":3,"file":"timeline-chapters.js","sourceRoot":"","sources":["../../../src/components/timeline/timeline-chapters.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,MAAM,KAAK,CAAC;AACvC,OAAO,EAAE,aAAa,EAAE,KAAK,EAAE,MAAM,mBAAmB,CAAC;AACzD,OAAO,EAAE,qBAAqB,EAAE,MAAM,sCAAsC,CAAC;AAE7E,OAAO,EAAE,OAAO,EAAE,MAAM,cAAc,CAAC;AACvC,OAAO,EAAE,aAAa,EAAE,MAAM,+BAA+B,CAAC;AAIvD,IAAM,gBAAgB,GAAtB,MAAM,gBAAiB,SAAQ,UAAU;IAAzC;;QAIL,aAAQ,GAAwB,EAAE,CAAC;QAI3B,cAAS,GAAkB;YACjC,OAAO,EAAE,KAAK;YACd,IAAI,EAAE,CAAC;YACP,GAAG,EAAE,EAAE;YACP,KAAK,EAAE,SAAS;SACjB,CAAC;IAuBJ,CAAC;IArBU,MAAM;QACb,OAAO,IAAI,CAAA;;UAEL,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE;YAC9B,MAAM,SAAS,GAAG;gBAChB,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,QAAQ,IAAI,CAAC,CAAC,GAAG,GAAG;gBACjE,OAAO,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,QAAQ,IAAI,CAAC,CAAC,GAAG,GAAG;aAChE,CAAC;YAEF,OAAO,IAAI,CAAA;;;6BAGQ,SAAS,CAAC,CAAC,CAAC,aAAa,SAAS,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC;;gBAEjE,OAAO,CAAC,KAAK;;WAElB,CAAC;QACJ,CAAC,CAAC;;KAEL,CAAC;IACJ,CAAC;;AAlCe,uBAAM,GAAG,qBAAqB,AAAxB,CAAyB;AAG/C;IADC,KAAK,EAAE;kDAC2B;AAI3B;IAFP,OAAO,CAAC,EAAE,OAAO,EAAE,aAAa,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;IACpD,KAAK,EAAE;mDAMN;AAbS,gBAAgB;IAD5B,aAAa,CAAC,mBAAmB,CAAC;GACtB,gBAAgB,CAoC5B","sourcesContent":["import { LitElement, html } from 'lit';\nimport { customElement, state } from 'lit/decorators.js';\nimport { timelineChaptersStyle } from '../../styles/timeline-chapters.style';\nimport { ChapterRange } from '../../types';\nimport { consume } from '@lit/context';\nimport { playerContext } from '../../contexts/player-context';\nimport { PlayerContext } from '../../@types/contexts';\n\n@customElement('timeline-chapters')\nexport class TimelineChapters extends LitElement {\n  static override styles = timelineChaptersStyle;\n\n  @state()\n  chapters: Array<ChapterRange> = [];\n\n  @consume({ context: playerContext, subscribe: true })\n  @state()\n  private playerCtx: PlayerContext = {\n    playing: false,\n    seek: 0,\n    src: '',\n    video: undefined\n  };\n\n  override render() {\n    return html`\n      <div class=\"chapters\" id=\"chapters\">\n        ${this.chapters.map((chapter) => {\n          const sizeRange = [\n            chapter.range.start / (this.playerCtx.video?.duration ?? 1) * 100,\n            chapter.range.end / (this.playerCtx.video?.duration ?? 1) * 100\n          ];\n          \n          return html`\n            <div \n              class=\"chapters__chapter\" \n              style=\"left: ${sizeRange[0]}%; width: ${sizeRange[1] - sizeRange[0]}%;\"\n            >\n              ${chapter.title}\n            </div>\n          `;\n        })}\n      </div>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'timeline-chapters': TimelineChapters;\n  }\n}\n"]}